(()=>{const e=document.getElementById("add-task-btn"),t=document.getElementById("description-task"),n=document.querySelector(".todos-wrapper");let d;d=localStorage.tasks?JSON.parse(localStorage.getItem("tasks")):[];let o=null;function l(e){this.description=e,this.completed=!1,this.index=d.length+1}const r=()=>{n.innerHTML="",d.length>0&&(d.forEach(((e,t)=>{n.innerHTML+=((e,t)=>`\n    <div class="todo-item ${e.completed?"checked":""} draggable" draggable='true'>\n    <input onclick="completeTask(${t})" class="btn-competed" type="checkbox" ${e.completed?"checked":""}>\n      <div class="elmar">\n        <div class="description">${e.description}</div>\n        <div class="buttons">\n          <button onclick="deleteTask(${t})" type="button" class="btn-delete">Delete</button>\n          </div>\n      </div>\n    </div>\n  `)(e,t)})),o=document.querySelectorAll(".todo-item"))};r();e.addEventListener("click",(()=>{d.push(new l(t.value)),localStorage.setItem("tasks",JSON.stringify(d)),r(),t.value=""}));const c=document.querySelectorAll(".draggable"),s=document.querySelectorAll(".todos-wrapper");c.forEach((e=>{e.addEventListener("dragstart",(()=>{e.classList.add("dragging")})),e.addEventListener("dragend",(()=>{e.classList.remove("dragging")}))})),s.forEach((e=>{e.addEventListener("dragover",(t=>{t.preventDefault();const n=function(e,t){return[...e.querySelectorAll(".draggable:not(.dragging)")].reduce(((e,n)=>{const d=n.getBoundingClientRect(),o=t-d.top-d.height/2;return o<0&&o>e.offset?{offset:o,element:n}:e}),{offset:Number.NEGATIVE_INFINITY}).element}(e,t.clientY),d=document.querySelector(".dragging");null==n?e.appendChild(d):e.insertBefore(d,n)}))}))})();